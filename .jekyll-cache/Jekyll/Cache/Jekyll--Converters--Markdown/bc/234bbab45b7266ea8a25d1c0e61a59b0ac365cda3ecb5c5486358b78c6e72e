I"q	<p><img src="/blog/assets/img/df-terminal.png" alt="df command in Terminal " /></p>

<p>Today in this post, I am going to describe about a problem I faced while I was trying to update WowzaStreamingEngine in Ubuntu.  While I ran the script for the update I came to this problem that stated:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">-bash</span>: cannot create temp file <span class="k">for </span>here-document: No space left on device
</code></pre></div></div>

<p>When I checked for diskspace using the command:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ df -h
</code></pre></div></div>
<!--more-->
<p>I had the following output:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/dev/root        20G  3.1G   16G  17% /
devtmpfs         16G  4.0K   16G   1% /dev
none            4.0K     0  4.0K   0% /sys/fs/cgroup
none            3.2G  848K  3.2G   1% /run
none            5.0M     0  5.0M   0% /run/lock
none             16G     0   16G   0% /run/shm
onne            100M     0  100M   0% /run/user
/dev/md3        1.8T   77G  1.7T   5% /home
overflow        1.0M  1.0M     0 100% /tmp
</code></pre></div></div>

<p>I could clearly see there was enough space. But if you look the above clearly again you will see that /tmp is using 100% usage. This was the cause for the above error message. Now I had to get rid of it. So, the solution was to unmount it. I tried to unmount but again I got another error message saying the device is busy. To find out what process was using the device I ran the following command:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># lsof | grep /tmp</span>
</code></pre></div></div>
<p>This shows the process that kept the device busy. Killing the process and unmounting the device worked. You can also do lazy unmount using the command</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># umount -l /tmp</span>
</code></pre></div></div>
<p>or</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># umount -l overflow</span>
</code></pre></div></div>

<p>After that I was able to continue the update.</p>
:ET