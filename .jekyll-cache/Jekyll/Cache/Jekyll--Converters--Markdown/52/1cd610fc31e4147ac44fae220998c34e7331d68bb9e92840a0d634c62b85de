I")<p>In this post, I will be discussing about a utility you will often use. The utility is â€˜ssâ€™. According to the man page of ss:
ss is used to dump socket statistics. It allows showing information similar to netstat. It can display more TCP and state informations than other tools.
<!--more-->
Here, we will go through some of the basic usages of â€˜ssâ€™ command, which are as follows:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>ss  
</code></pre></div></div>
<p>Bare â€˜ssâ€™ command lists the TCP established connections. It shows ton of information. Now letâ€™s list all listening sockets using -l option</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>ss <span class="nt">-l</span>
</code></pre></div></div>
<p>We have now filtered the listing connections only. We can filter TCP and UDP protocols using -t and -u options respectively. For example, to list all the listening sockets using TCP we use:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>ss <span class="nt">-tl</span>    
</code></pre></div></div>
<p><img src="/blog/assets/img/ss-tl.png" alt="ss-tl" /><br />
In the above command you see the service names like domain, ipp and http, if you want to see the port numbers in use, you can use -n option. The example below will show a list of all listening TCP connections with numeric value for the services:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>ss <span class="nt">-tln</span>  
</code></pre></div></div>
<p><img src="/blog/assets/img/ss-tln.png" alt="ss-tln" /><br />
For the service domain we can see port 53, for ipp port is 631 and for http th port is 80. Another usage, would be to list all the TCP connections and the processes that are using the connection. To show process names along with the TCP connections we use -p tag.</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>ss <span class="nt">-tp</span>  
</code></pre></div></div>
<p><img src="/blog/assets/img/ss-tp.png" alt="ss-tp" /><br />
The example above shows, all the tcp connections are from a process with name â€˜braveâ€™.
You can also list socket connections to a specific machine as :</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>ss dst ip_address_of_destination    
</code></pre></div></div>
<p><img src="/blog/assets/img/ss-dst.png" alt="ss-dst" /><br />
In the example above, you can see the connections to 52.218.201.64.
ss command also allows us to filter connections with various states like closing, closed, listening, established, last-ack etc. An example usage would be as follows to list all connections with state â€˜close-waitâ€™:<br />
<img src="/blog/assets/img/ss-state.png" alt="ss-state" />  <br />
If you want to find more details on the options you can use with â€˜ssâ€™ command then check the <a href="https://linux.die.net/man/8/ss">man page</a> or run</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>man ss  
</code></pre></div></div>
<p>or you can also run</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>ss <span class="nt">-h</span>
</code></pre></div></div>
:ET